{"id":"mahc","dependencies":[{"name":"D:\\projects\\goit-js-hw-08-gallery\\package.json","includedInParent":true,"mtime":1631454052555},{"name":"./data/gallery-images.js","loc":{"line":1,"column":25},"parent":"D:\\projects\\goit-js-hw-08-gallery\\src\\js\\index.js","resolved":"D:\\projects\\goit-js-hw-08-gallery\\src\\js\\data\\gallery-images.js"}],"generated":{"js":"\"use strict\";var e=t(require(\"./data/gallery-images.js\"));function t(e){return e&&e.__esModule?e:{default:e}}var l={galleryContainerEl:document.querySelector(\".js-gallery\"),lightboxEl:document.querySelector(\".js-lightbox\"),lightboxOverlayEl:document.querySelector(\".lightbox__overlay\"),lightboxImageEl:document.querySelector(\".lightbox__image\"),lightboxBtnEl:document.querySelector('[data-action=\"close-lightbox\"]')},n=a(e.default);function a(e){return e.map(function(e){var t=e.preview,l=e.original,n=e.description;return'\\n      <li class=\"gallery__item\">\\n        <a\\n          class=\"gallery__link\"\\n          href=\"'.concat(l,'\"\\n        >\\n          <img\\n            class=\"gallery__image\"\\n            src=\"').concat(t,'\"\\n            data-source=\"').concat(l,'\"\\n            alt=\"').concat(n,'\"\\n          />\\n        </a>\\n      </li>\\n    ')}).join(\"\")}function o(e){e.target.classList.contains(\"gallery__image\")&&(e.preventDefault(),i(),r(e.target.dataset.source,e.target.alt))}function i(){l.lightboxEl.classList.add(\"is-open\"),window.addEventListener(\"keydown\",g)}function r(e,t){l.lightboxImageEl.src=e,l.lightboxImageEl.alt=t}function c(){l.lightboxEl.classList.remove(\"is-open\"),r(\"\",\"\"),window.removeEventListener(\"keydown\",g)}function s(e){e.currentTarget===e.target&&c()}function g(t){var n=e.default.findIndex(function(e){return e.original===l.lightboxImageEl.src});switch(t.code){case\"Escape\":c();break;case\"ArrowLeft\":0===n&&(n+=e.default.length),n-=1;break;case\"ArrowRight\":n===e.default.length-1&&(n=-1),n+=1}l.lightboxImageEl.src=e.default[n].original,l.lightboxImageEl.alt=e.default[n].description}function d(){document.querySelectorAll(\".gallery__image\").forEach(function(e){e.addEventListener(\"load\",{once:!0}),e.setAttribute(\"loading\",\"lazy\")})}function u(){var e=document.createElement(\"script\");e.src=\"https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/lazysizes.min.js\",e.integrity=\"sha512-TmDwFLhg3UA4ZG0Eb4MIyT1O1Mb+Oww5kFG0uHqXsdbyZz9DcvYQhKpGgNkamAI6h2lGGZq2X8ftOJvF/XjTUg==\",e.crossOrigin=\"anonymous\",document.body.appendChild(e)}l.galleryContainerEl.insertAdjacentHTML(\"beforeend\",n),l.galleryContainerEl.addEventListener(\"click\",o),l.lightboxBtnEl.addEventListener(\"click\",c),l.lightboxOverlayEl.addEventListener(\"click\",s),\"loading\"in HTMLImageElement.prototype?(console.log(\"Браузер поддерживает lazyload\"),d()):(console.log(\"Браузер НЕ поддерживает lazyload\"),u());"},"sourceMaps":{"js":{"mappings":[{"source":"src/js/index.js","original":{"line":147,"column":1},"generated":{"line":1,"column":0}},{"source":"src/js/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"src/js/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":17}},{"source":"src/js/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":19}},{"source":"src/js/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":21}},{"source":"src/js/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":29}},{"source":"src/js/index.js","original":{"line":147,"column":1},"generated":{"line":1,"column":58}},{"source":"src/js/index.js","original":{"line":147,"column":1},"generated":{"line":1,"column":67}},{"source":"src/js/index.js","original":{"line":147,"column":1},"generated":{"line":1,"column":69}},{"source":"src/js/index.js","original":{"line":147,"column":1},"generated":{"line":1,"column":72}},{"source":"src/js/index.js","original":{"line":147,"column":1},"generated":{"line":1,"column":79}},{"source":"src/js/index.js","original":{"line":147,"column":1},"generated":{"line":1,"column":82}},{"source":"src/js/index.js","original":{"line":147,"column":1},"generated":{"line":1,"column":84}},{"source":"src/js/index.js","original":{"line":147,"column":1},"generated":{"line":1,"column":95}},{"source":"src/js/index.js","original":{"line":147,"column":1},"generated":{"line":1,"column":97}},{"source":"src/js/index.js","original":{"line":147,"column":1},"generated":{"line":1,"column":98}},{"source":"src/js/index.js","original":{"line":147,"column":1},"generated":{"line":1,"column":106}},{"source":"src/js/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":109}},{"source":"src/js/index.js","name":"refs","original":{"line":3,"column":6},"generated":{"line":1,"column":113}},{"source":"src/js/index.js","original":{"line":3,"column":13},"generated":{"line":1,"column":115}},{"source":"src/js/index.js","name":"galleryContainerEl","original":{"line":4,"column":2},"generated":{"line":1,"column":116}},{"source":"src/js/index.js","name":"document","original":{"line":4,"column":22},"generated":{"line":1,"column":135}},{"source":"src/js/index.js","name":"querySelector","original":{"line":4,"column":31},"generated":{"line":1,"column":144}},{"source":"src/js/index.js","original":{"line":4,"column":45},"generated":{"line":1,"column":158}},{"source":"src/js/index.js","name":"lightboxEl","original":{"line":5,"column":2},"generated":{"line":1,"column":173}},{"source":"src/js/index.js","name":"document","original":{"line":5,"column":14},"generated":{"line":1,"column":184}},{"source":"src/js/index.js","name":"querySelector","original":{"line":5,"column":23},"generated":{"line":1,"column":193}},{"source":"src/js/index.js","original":{"line":5,"column":37},"generated":{"line":1,"column":207}},{"source":"src/js/index.js","name":"lightboxOverlayEl","original":{"line":6,"column":2},"generated":{"line":1,"column":223}},{"source":"src/js/index.js","name":"document","original":{"line":6,"column":21},"generated":{"line":1,"column":241}},{"source":"src/js/index.js","name":"querySelector","original":{"line":6,"column":30},"generated":{"line":1,"column":250}},{"source":"src/js/index.js","original":{"line":6,"column":44},"generated":{"line":1,"column":264}},{"source":"src/js/index.js","name":"lightboxImageEl","original":{"line":7,"column":2},"generated":{"line":1,"column":286}},{"source":"src/js/index.js","name":"document","original":{"line":7,"column":19},"generated":{"line":1,"column":302}},{"source":"src/js/index.js","name":"querySelector","original":{"line":7,"column":28},"generated":{"line":1,"column":311}},{"source":"src/js/index.js","original":{"line":7,"column":42},"generated":{"line":1,"column":325}},{"source":"src/js/index.js","name":"lightboxBtnEl","original":{"line":8,"column":2},"generated":{"line":1,"column":345}},{"source":"src/js/index.js","name":"document","original":{"line":8,"column":17},"generated":{"line":1,"column":359}},{"source":"src/js/index.js","name":"querySelector","original":{"line":8,"column":26},"generated":{"line":1,"column":368}},{"source":"src/js/index.js","original":{"line":8,"column":40},"generated":{"line":1,"column":382}},{"source":"src/js/index.js","name":"galleryElementsMarkup","original":{"line":13,"column":6},"generated":{"line":1,"column":417}},{"source":"src/js/index.js","name":"createGalleryElements","original":{"line":13,"column":30},"generated":{"line":1,"column":419}},{"source":"src/js/index.js","name":"galleryItems","original":{"line":13,"column":52},"generated":{"line":1,"column":421}},{"source":"src/js/index.js","original":{"line":13,"column":51},"generated":{"line":1,"column":423}},{"source":"src/js/index.js","original":{"line":17,"column":0},"generated":{"line":1,"column":432}},{"source":"src/js/index.js","name":"createGalleryElements","original":{"line":17,"column":9},"generated":{"line":1,"column":441}},{"source":"src/js/index.js","name":"items","original":{"line":17,"column":31},"generated":{"line":1,"column":443}},{"source":"src/js/index.js","name":"items","original":{"line":18,"column":9},"generated":{"line":1,"column":446}},{"source":"src/js/index.js","name":"items","original":{"line":18,"column":9},"generated":{"line":1,"column":453}},{"source":"src/js/index.js","name":"map","original":{"line":18,"column":15},"generated":{"line":1,"column":455}},{"source":"src/js/index.js","original":{"line":18,"column":19},"generated":{"line":1,"column":459}},{"source":"src/js/index.js","original":{"line":18,"column":59},"generated":{"line":1,"column":468}},{"source":"src/js/index.js","name":"preview","original":{"line":18,"column":22},"generated":{"line":1,"column":471}},{"source":"src/js/index.js","name":"preview","original":{"line":18,"column":22},"generated":{"line":1,"column":475}},{"source":"src/js/index.js","name":"preview","original":{"line":18,"column":22},"generated":{"line":1,"column":477}},{"source":"src/js/index.js","name":"preview","original":{"line":18,"column":22},"generated":{"line":1,"column":479}},{"source":"src/js/index.js","name":"original","original":{"line":18,"column":31},"generated":{"line":1,"column":487}},{"source":"src/js/index.js","name":"original","original":{"line":18,"column":31},"generated":{"line":1,"column":489}},{"source":"src/js/index.js","name":"original","original":{"line":18,"column":31},"generated":{"line":1,"column":491}},{"source":"src/js/index.js","name":"description","original":{"line":18,"column":41},"generated":{"line":1,"column":500}},{"source":"src/js/index.js","name":"description","original":{"line":18,"column":41},"generated":{"line":1,"column":502}},{"source":"src/js/index.js","name":"description","original":{"line":18,"column":41},"generated":{"line":1,"column":504}},{"source":"src/js/index.js","name":"original","original":{"line":23,"column":18},"generated":{"line":1,"column":516}},{"source":"src/js/index.js","name":"original","original":{"line":23,"column":18},"generated":{"line":1,"column":522}},{"source":"src/js/index.js","name":"original","original":{"line":23,"column":18},"generated":{"line":1,"column":622}},{"source":"src/js/index.js","name":"original","original":{"line":23,"column":18},"generated":{"line":1,"column":629}},{"source":"src/js/index.js","name":"preview","original":{"line":27,"column":19},"generated":{"line":1,"column":631}},{"source":"src/js/index.js","name":"preview","original":{"line":27,"column":19},"generated":{"line":1,"column":718}},{"source":"src/js/index.js","name":"preview","original":{"line":27,"column":19},"generated":{"line":1,"column":725}},{"source":"src/js/index.js","name":"original","original":{"line":28,"column":27},"generated":{"line":1,"column":727}},{"source":"src/js/index.js","name":"original","original":{"line":28,"column":27},"generated":{"line":1,"column":759}},{"source":"src/js/index.js","name":"original","original":{"line":28,"column":27},"generated":{"line":1,"column":766}},{"source":"src/js/index.js","name":"description","original":{"line":29,"column":19},"generated":{"line":1,"column":768}},{"source":"src/js/index.js","name":"description","original":{"line":29,"column":19},"generated":{"line":1,"column":792}},{"source":"src/js/index.js","name":"description","original":{"line":29,"column":19},"generated":{"line":1,"column":799}},{"source":"src/js/index.js","original":{"line":19,"column":4},"generated":{"line":1,"column":801}},{"source":"src/js/index.js","name":"join","original":{"line":34,"column":5},"generated":{"line":1,"column":855}},{"source":"src/js/index.js","original":{"line":34,"column":10},"generated":{"line":1,"column":860}},{"source":"src/js/index.js","original":{"line":41,"column":0},"generated":{"line":1,"column":864}},{"source":"src/js/index.js","name":"onGalleryContainerClick","original":{"line":41,"column":9},"generated":{"line":1,"column":873}},{"source":"src/js/index.js","name":"event","original":{"line":41,"column":33},"generated":{"line":1,"column":875}},{"source":"src/js/index.js","name":"event","original":{"line":42,"column":24},"generated":{"line":1,"column":878}},{"source":"src/js/index.js","name":"target","original":{"line":42,"column":30},"generated":{"line":1,"column":880}},{"source":"src/js/index.js","name":"classList","original":{"line":42,"column":37},"generated":{"line":1,"column":887}},{"source":"src/js/index.js","name":"contains","original":{"line":42,"column":47},"generated":{"line":1,"column":897}},{"source":"src/js/index.js","original":{"line":42,"column":56},"generated":{"line":1,"column":906}},{"source":"src/js/index.js","name":"event","original":{"line":47,"column":2},"generated":{"line":1,"column":926}},{"source":"src/js/index.js","name":"preventDefault","original":{"line":47,"column":8},"generated":{"line":1,"column":928}},{"source":"src/js/index.js","name":"onOpenModalWindow","original":{"line":49,"column":2},"generated":{"line":1,"column":945}},{"source":"src/js/index.js","name":"onSetAttributes","original":{"line":50,"column":2},"generated":{"line":1,"column":949}},{"source":"src/js/index.js","name":"event","original":{"line":50,"column":18},"generated":{"line":1,"column":951}},{"source":"src/js/index.js","name":"target","original":{"line":50,"column":24},"generated":{"line":1,"column":953}},{"source":"src/js/index.js","name":"dataset","original":{"line":50,"column":31},"generated":{"line":1,"column":960}},{"source":"src/js/index.js","name":"source","original":{"line":50,"column":39},"generated":{"line":1,"column":968}},{"source":"src/js/index.js","name":"event","original":{"line":50,"column":47},"generated":{"line":1,"column":975}},{"source":"src/js/index.js","name":"target","original":{"line":50,"column":53},"generated":{"line":1,"column":977}},{"source":"src/js/index.js","name":"alt","original":{"line":50,"column":60},"generated":{"line":1,"column":984}},{"source":"src/js/index.js","original":{"line":55,"column":0},"generated":{"line":1,"column":990}},{"source":"src/js/index.js","name":"onOpenModalWindow","original":{"line":55,"column":9},"generated":{"line":1,"column":999}},{"source":"src/js/index.js","name":"refs","original":{"line":56,"column":2},"generated":{"line":1,"column":1003}},{"source":"src/js/index.js","name":"lightboxEl","original":{"line":56,"column":7},"generated":{"line":1,"column":1005}},{"source":"src/js/index.js","name":"classList","original":{"line":56,"column":18},"generated":{"line":1,"column":1016}},{"source":"src/js/index.js","name":"add","original":{"line":56,"column":28},"generated":{"line":1,"column":1026}},{"source":"src/js/index.js","original":{"line":56,"column":32},"generated":{"line":1,"column":1030}},{"source":"src/js/index.js","name":"window","original":{"line":57,"column":2},"generated":{"line":1,"column":1041}},{"source":"src/js/index.js","name":"addEventListener","original":{"line":57,"column":9},"generated":{"line":1,"column":1048}},{"source":"src/js/index.js","original":{"line":57,"column":26},"generated":{"line":1,"column":1065}},{"source":"src/js/index.js","name":"onModalWindowKeyDown","original":{"line":57,"column":37},"generated":{"line":1,"column":1075}},{"source":"src/js/index.js","original":{"line":62,"column":0},"generated":{"line":1,"column":1078}},{"source":"src/js/index.js","name":"onSetAttributes","original":{"line":62,"column":9},"generated":{"line":1,"column":1087}},{"source":"src/js/index.js","name":"src","original":{"line":62,"column":25},"generated":{"line":1,"column":1089}},{"source":"src/js/index.js","name":"alt","original":{"line":62,"column":30},"generated":{"line":1,"column":1091}},{"source":"src/js/index.js","name":"refs","original":{"line":63,"column":2},"generated":{"line":1,"column":1094}},{"source":"src/js/index.js","name":"lightboxImageEl","original":{"line":63,"column":7},"generated":{"line":1,"column":1096}},{"source":"src/js/index.js","name":"src","original":{"line":63,"column":23},"generated":{"line":1,"column":1112}},{"source":"src/js/index.js","name":"src","original":{"line":63,"column":29},"generated":{"line":1,"column":1116}},{"source":"src/js/index.js","name":"refs","original":{"line":64,"column":2},"generated":{"line":1,"column":1118}},{"source":"src/js/index.js","name":"lightboxImageEl","original":{"line":64,"column":7},"generated":{"line":1,"column":1120}},{"source":"src/js/index.js","name":"alt","original":{"line":64,"column":23},"generated":{"line":1,"column":1136}},{"source":"src/js/index.js","name":"alt","original":{"line":64,"column":29},"generated":{"line":1,"column":1140}},{"source":"src/js/index.js","original":{"line":72,"column":0},"generated":{"line":1,"column":1142}},{"source":"src/js/index.js","name":"onCloseModalWindow","original":{"line":72,"column":9},"generated":{"line":1,"column":1151}},{"source":"src/js/index.js","name":"refs","original":{"line":73,"column":2},"generated":{"line":1,"column":1155}},{"source":"src/js/index.js","name":"lightboxEl","original":{"line":73,"column":7},"generated":{"line":1,"column":1157}},{"source":"src/js/index.js","name":"classList","original":{"line":73,"column":18},"generated":{"line":1,"column":1168}},{"source":"src/js/index.js","name":"remove","original":{"line":73,"column":28},"generated":{"line":1,"column":1178}},{"source":"src/js/index.js","original":{"line":73,"column":35},"generated":{"line":1,"column":1185}},{"source":"src/js/index.js","name":"onSetAttributes","original":{"line":74,"column":2},"generated":{"line":1,"column":1196}},{"source":"src/js/index.js","original":{"line":74,"column":18},"generated":{"line":1,"column":1198}},{"source":"src/js/index.js","original":{"line":74,"column":22},"generated":{"line":1,"column":1201}},{"source":"src/js/index.js","name":"window","original":{"line":75,"column":2},"generated":{"line":1,"column":1205}},{"source":"src/js/index.js","name":"removeEventListener","original":{"line":75,"column":9},"generated":{"line":1,"column":1212}},{"source":"src/js/index.js","original":{"line":75,"column":29},"generated":{"line":1,"column":1232}},{"source":"src/js/index.js","name":"onModalWindowKeyDown","original":{"line":75,"column":40},"generated":{"line":1,"column":1242}},{"source":"src/js/index.js","original":{"line":81,"column":0},"generated":{"line":1,"column":1245}},{"source":"src/js/index.js","name":"onBackdropClick","original":{"line":81,"column":9},"generated":{"line":1,"column":1254}},{"source":"src/js/index.js","name":"event","original":{"line":81,"column":25},"generated":{"line":1,"column":1256}},{"source":"src/js/index.js","name":"event","original":{"line":82,"column":6},"generated":{"line":1,"column":1259}},{"source":"src/js/index.js","name":"currentTarget","original":{"line":82,"column":12},"generated":{"line":1,"column":1261}},{"source":"src/js/index.js","name":"event","original":{"line":82,"column":30},"generated":{"line":1,"column":1277}},{"source":"src/js/index.js","name":"target","original":{"line":82,"column":36},"generated":{"line":1,"column":1279}},{"source":"src/js/index.js","name":"onCloseModalWindow","original":{"line":83,"column":4},"generated":{"line":1,"column":1287}},{"source":"src/js/index.js","original":{"line":89,"column":0},"generated":{"line":1,"column":1291}},{"source":"src/js/index.js","name":"onModalWindowKeyDown","original":{"line":89,"column":9},"generated":{"line":1,"column":1300}},{"source":"src/js/index.js","name":"event","original":{"line":89,"column":30},"generated":{"line":1,"column":1302}},{"source":"src/js/index.js","name":"imageIndex","original":{"line":90,"column":6},"generated":{"line":1,"column":1305}},{"source":"src/js/index.js","name":"imageIndex","original":{"line":90,"column":6},"generated":{"line":1,"column":1309}},{"source":"src/js/index.js","name":"galleryItems","original":{"line":90,"column":19},"generated":{"line":1,"column":1311}},{"source":"src/js/index.js","name":"findIndex","original":{"line":90,"column":32},"generated":{"line":1,"column":1313}},{"source":"src/js/index.js","name":"findIndex","original":{"line":90,"column":32},"generated":{"line":1,"column":1321}},{"source":"src/js/index.js","original":{"line":91,"column":4},"generated":{"line":1,"column":1331}},{"source":"src/js/index.js","name":"image","original":{"line":91,"column":4},"generated":{"line":1,"column":1340}},{"source":"src/js/index.js","name":"image","original":{"line":91,"column":13},"generated":{"line":1,"column":1343}},{"source":"src/js/index.js","name":"image","original":{"line":91,"column":13},"generated":{"line":1,"column":1350}},{"source":"src/js/index.js","name":"original","original":{"line":91,"column":19},"generated":{"line":1,"column":1352}},{"source":"src/js/index.js","name":"refs","original":{"line":91,"column":32},"generated":{"line":1,"column":1363}},{"source":"src/js/index.js","name":"lightboxImageEl","original":{"line":91,"column":37},"generated":{"line":1,"column":1365}},{"source":"src/js/index.js","name":"src","original":{"line":91,"column":53},"generated":{"line":1,"column":1381}},{"source":"src/js/index.js","name":"event","original":{"line":94,"column":10},"generated":{"line":1,"column":1387}},{"source":"src/js/index.js","name":"event","original":{"line":94,"column":10},"generated":{"line":1,"column":1394}},{"source":"src/js/index.js","name":"code","original":{"line":94,"column":16},"generated":{"line":1,"column":1396}},{"source":"src/js/index.js","original":{"line":95,"column":9},"generated":{"line":1,"column":1402}},{"source":"src/js/index.js","original":{"line":95,"column":9},"generated":{"line":1,"column":1406}},{"source":"src/js/index.js","name":"onCloseModalWindow","original":{"line":96,"column":6},"generated":{"line":1,"column":1415}},{"source":"src/js/index.js","original":{"line":97,"column":6},"generated":{"line":1,"column":1419}},{"source":"src/js/index.js","original":{"line":99,"column":9},"generated":{"line":1,"column":1425}},{"source":"src/js/index.js","original":{"line":99,"column":9},"generated":{"line":1,"column":1429}},{"source":"src/js/index.js","original":{"line":101,"column":25},"generated":{"line":1,"column":1441}},{"source":"src/js/index.js","name":"imageIndex","original":{"line":101,"column":10},"generated":{"line":1,"column":1445}},{"source":"src/js/index.js","name":"imageIndex","original":{"line":102,"column":8},"generated":{"line":1,"column":1449}},{"source":"src/js/index.js","name":"galleryItems","original":{"line":102,"column":22},"generated":{"line":1,"column":1452}},{"source":"src/js/index.js","name":"length","original":{"line":102,"column":35},"generated":{"line":1,"column":1454}},{"source":"src/js/index.js","name":"length","original":{"line":102,"column":35},"generated":{"line":1,"column":1462}},{"source":"src/js/index.js","name":"imageIndex","original":{"line":104,"column":6},"generated":{"line":1,"column":1470}},{"source":"src/js/index.js","original":{"line":104,"column":20},"generated":{"line":1,"column":1473}},{"source":"src/js/index.js","original":{"line":105,"column":6},"generated":{"line":1,"column":1475}},{"source":"src/js/index.js","original":{"line":107,"column":9},"generated":{"line":1,"column":1481}},{"source":"src/js/index.js","original":{"line":107,"column":9},"generated":{"line":1,"column":1485}},{"source":"src/js/index.js","name":"imageIndex","original":{"line":109,"column":10},"generated":{"line":1,"column":1498}},{"source":"src/js/index.js","name":"galleryItems","original":{"line":109,"column":25},"generated":{"line":1,"column":1502}},{"source":"src/js/index.js","name":"length","original":{"line":109,"column":38},"generated":{"line":1,"column":1504}},{"source":"src/js/index.js","name":"length","original":{"line":109,"column":38},"generated":{"line":1,"column":1512}},{"source":"src/js/index.js","original":{"line":109,"column":47},"generated":{"line":1,"column":1519}},{"source":"src/js/index.js","name":"imageIndex","original":{"line":110,"column":8},"generated":{"line":1,"column":1523}},{"source":"src/js/index.js","original":{"line":110,"column":22},"generated":{"line":1,"column":1526}},{"source":"src/js/index.js","name":"imageIndex","original":{"line":112,"column":6},"generated":{"line":1,"column":1529}},{"source":"src/js/index.js","original":{"line":112,"column":20},"generated":{"line":1,"column":1532}},{"source":"src/js/index.js","name":"refs","original":{"line":114,"column":2},"generated":{"line":1,"column":1534}},{"source":"src/js/index.js","name":"lightboxImageEl","original":{"line":114,"column":7},"generated":{"line":1,"column":1536}},{"source":"src/js/index.js","name":"src","original":{"line":114,"column":23},"generated":{"line":1,"column":1552}},{"source":"src/js/index.js","name":"galleryItems","original":{"line":114,"column":29},"generated":{"line":1,"column":1556}},{"source":"src/js/index.js","name":"imageIndex","original":{"line":114,"column":42},"generated":{"line":1,"column":1558}},{"source":"src/js/index.js","name":"imageIndex","original":{"line":114,"column":42},"generated":{"line":1,"column":1566}},{"source":"src/js/index.js","name":"original","original":{"line":114,"column":54},"generated":{"line":1,"column":1569}},{"source":"src/js/index.js","name":"refs","original":{"line":115,"column":2},"generated":{"line":1,"column":1578}},{"source":"src/js/index.js","name":"lightboxImageEl","original":{"line":115,"column":7},"generated":{"line":1,"column":1580}},{"source":"src/js/index.js","name":"alt","original":{"line":115,"column":23},"generated":{"line":1,"column":1596}},{"source":"src/js/index.js","name":"galleryItems","original":{"line":115,"column":29},"generated":{"line":1,"column":1600}},{"source":"src/js/index.js","name":"imageIndex","original":{"line":115,"column":42},"generated":{"line":1,"column":1602}},{"source":"src/js/index.js","name":"imageIndex","original":{"line":115,"column":42},"generated":{"line":1,"column":1610}},{"source":"src/js/index.js","name":"description","original":{"line":115,"column":54},"generated":{"line":1,"column":1613}},{"source":"src/js/index.js","original":{"line":129,"column":0},"generated":{"line":1,"column":1625}},{"source":"src/js/index.js","name":"addSrcAttrToLazyImages","original":{"line":129,"column":9},"generated":{"line":1,"column":1634}},{"source":"src/js/index.js","name":"document","original":{"line":130,"column":21},"generated":{"line":1,"column":1638}},{"source":"src/js/index.js","name":"querySelectorAll","original":{"line":130,"column":30},"generated":{"line":1,"column":1647}},{"source":"src/js/index.js","original":{"line":130,"column":47},"generated":{"line":1,"column":1664}},{"source":"src/js/index.js","name":"forEach","original":{"line":131,"column":13},"generated":{"line":1,"column":1683}},{"source":"src/js/index.js","original":{"line":131,"column":21},"generated":{"line":1,"column":1691}},{"source":"src/js/index.js","name":"image","original":{"line":131,"column":21},"generated":{"line":1,"column":1700}},{"source":"src/js/index.js","name":"image","original":{"line":132,"column":4},"generated":{"line":1,"column":1703}},{"source":"src/js/index.js","name":"addEventListener","original":{"line":132,"column":10},"generated":{"line":1,"column":1705}},{"source":"src/js/index.js","original":{"line":132,"column":27},"generated":{"line":1,"column":1722}},{"source":"src/js/index.js","original":{"line":132,"column":35},"generated":{"line":1,"column":1729}},{"source":"src/js/index.js","name":"once","original":{"line":132,"column":37},"generated":{"line":1,"column":1730}},{"source":"src/js/index.js","original":{"line":132,"column":43},"generated":{"line":1,"column":1736}},{"source":"src/js/index.js","name":"image","original":{"line":133,"column":4},"generated":{"line":1,"column":1740}},{"source":"src/js/index.js","name":"setAttribute","original":{"line":133,"column":10},"generated":{"line":1,"column":1742}},{"source":"src/js/index.js","original":{"line":133,"column":23},"generated":{"line":1,"column":1755}},{"source":"src/js/index.js","original":{"line":133,"column":34},"generated":{"line":1,"column":1765}},{"source":"src/js/index.js","original":{"line":138,"column":0},"generated":{"line":1,"column":1775}},{"source":"src/js/index.js","name":"addLazySizesScript","original":{"line":138,"column":9},"generated":{"line":1,"column":1784}},{"source":"src/js/index.js","name":"script","original":{"line":139,"column":8},"generated":{"line":1,"column":1788}},{"source":"src/js/index.js","name":"script","original":{"line":139,"column":8},"generated":{"line":1,"column":1792}},{"source":"src/js/index.js","name":"document","original":{"line":139,"column":17},"generated":{"line":1,"column":1794}},{"source":"src/js/index.js","name":"createElement","original":{"line":139,"column":26},"generated":{"line":1,"column":1803}},{"source":"src/js/index.js","original":{"line":139,"column":40},"generated":{"line":1,"column":1817}},{"source":"src/js/index.js","name":"script","original":{"line":140,"column":2},"generated":{"line":1,"column":1827}},{"source":"src/js/index.js","name":"src","original":{"line":140,"column":9},"generated":{"line":1,"column":1829}},{"source":"src/js/index.js","original":{"line":141,"column":4},"generated":{"line":1,"column":1833}},{"source":"src/js/index.js","name":"script","original":{"line":142,"column":2},"generated":{"line":1,"column":1907}},{"source":"src/js/index.js","name":"integrity","original":{"line":142,"column":9},"generated":{"line":1,"column":1909}},{"source":"src/js/index.js","original":{"line":143,"column":4},"generated":{"line":1,"column":1919}},{"source":"src/js/index.js","name":"script","original":{"line":144,"column":2},"generated":{"line":1,"column":2017}},{"source":"src/js/index.js","name":"crossOrigin","original":{"line":144,"column":9},"generated":{"line":1,"column":2019}},{"source":"src/js/index.js","original":{"line":144,"column":23},"generated":{"line":1,"column":2031}},{"source":"src/js/index.js","name":"document","original":{"line":146,"column":2},"generated":{"line":1,"column":2043}},{"source":"src/js/index.js","name":"body","original":{"line":146,"column":11},"generated":{"line":1,"column":2052}},{"source":"src/js/index.js","name":"appendChild","original":{"line":146,"column":16},"generated":{"line":1,"column":2057}},{"source":"src/js/index.js","name":"script","original":{"line":146,"column":28},"generated":{"line":1,"column":2069}},{"source":"src/js/index.js","name":"refs","original":{"line":15,"column":0},"generated":{"line":1,"column":2072}},{"source":"src/js/index.js","name":"galleryContainerEl","original":{"line":15,"column":5},"generated":{"line":1,"column":2074}},{"source":"src/js/index.js","name":"insertAdjacentHTML","original":{"line":15,"column":24},"generated":{"line":1,"column":2093}},{"source":"src/js/index.js","original":{"line":15,"column":43},"generated":{"line":1,"column":2112}},{"source":"src/js/index.js","name":"galleryElementsMarkup","original":{"line":15,"column":56},"generated":{"line":1,"column":2124}},{"source":"src/js/index.js","name":"refs","original":{"line":39,"column":0},"generated":{"line":1,"column":2127}},{"source":"src/js/index.js","name":"galleryContainerEl","original":{"line":39,"column":5},"generated":{"line":1,"column":2129}},{"source":"src/js/index.js","name":"addEventListener","original":{"line":39,"column":24},"generated":{"line":1,"column":2148}},{"source":"src/js/index.js","original":{"line":39,"column":41},"generated":{"line":1,"column":2165}},{"source":"src/js/index.js","name":"onGalleryContainerClick","original":{"line":39,"column":50},"generated":{"line":1,"column":2173}},{"source":"src/js/index.js","name":"refs","original":{"line":70,"column":0},"generated":{"line":1,"column":2176}},{"source":"src/js/index.js","name":"lightboxBtnEl","original":{"line":70,"column":5},"generated":{"line":1,"column":2178}},{"source":"src/js/index.js","name":"addEventListener","original":{"line":70,"column":19},"generated":{"line":1,"column":2192}},{"source":"src/js/index.js","original":{"line":70,"column":36},"generated":{"line":1,"column":2209}},{"source":"src/js/index.js","name":"onCloseModalWindow","original":{"line":70,"column":45},"generated":{"line":1,"column":2217}},{"source":"src/js/index.js","name":"refs","original":{"line":79,"column":0},"generated":{"line":1,"column":2220}},{"source":"src/js/index.js","name":"lightboxOverlayEl","original":{"line":79,"column":5},"generated":{"line":1,"column":2222}},{"source":"src/js/index.js","name":"addEventListener","original":{"line":79,"column":23},"generated":{"line":1,"column":2240}},{"source":"src/js/index.js","original":{"line":79,"column":40},"generated":{"line":1,"column":2257}},{"source":"src/js/index.js","name":"onBackdropClick","original":{"line":79,"column":49},"generated":{"line":1,"column":2265}},{"source":"src/js/index.js","original":{"line":121,"column":4},"generated":{"line":1,"column":2268}},{"source":"src/js/index.js","name":"HTMLImageElement","original":{"line":121,"column":17},"generated":{"line":1,"column":2280}},{"source":"src/js/index.js","name":"prototype","original":{"line":121,"column":34},"generated":{"line":1,"column":2297}},{"source":"src/js/index.js","name":"console","original":{"line":122,"column":2},"generated":{"line":1,"column":2308}},{"source":"src/js/index.js","name":"log","original":{"line":122,"column":10},"generated":{"line":1,"column":2316}},{"source":"src/js/index.js","original":{"line":122,"column":14},"generated":{"line":1,"column":2320}},{"source":"src/js/index.js","name":"addSrcAttrToLazyImages","original":{"line":123,"column":2},"generated":{"line":1,"column":2353}},{"source":"src/js/index.js","name":"console","original":{"line":125,"column":2},"generated":{"line":1,"column":2359}},{"source":"src/js/index.js","name":"log","original":{"line":125,"column":10},"generated":{"line":1,"column":2367}},{"source":"src/js/index.js","original":{"line":125,"column":14},"generated":{"line":1,"column":2371}},{"source":"src/js/index.js","name":"addLazySizesScript","original":{"line":126,"column":2},"generated":{"line":1,"column":2407}}],"sources":{"src/js/index.js":"import galleryItems from './data/gallery-images.js';\r\n\r\nconst refs = {\r\n  galleryContainerEl: document.querySelector('.js-gallery'),\r\n  lightboxEl: document.querySelector('.js-lightbox'),\r\n  lightboxOverlayEl: document.querySelector('.lightbox__overlay'),\r\n  lightboxImageEl: document.querySelector('.lightbox__image'),\r\n  lightboxBtnEl: document.querySelector('[data-action=\"close-lightbox\"]')\r\n}\r\n\r\n\r\n// 1. Создание и рендер разметки по массиву данных galleryItems из app.js и предоставленному шаблону.\r\nconst galleryElementsMarkup = createGalleryElements(galleryItems);\r\n\r\nrefs.galleryContainerEl.insertAdjacentHTML('beforeend', galleryElementsMarkup)\r\n\r\nfunction createGalleryElements(items) {\r\n  return items.map(({ preview, original, description }) => {\r\n    return `\r\n      <li class=\"gallery__item\">\r\n        <a\r\n          class=\"gallery__link\"\r\n          href=\"${original}\"\r\n        >\r\n          <img\r\n            class=\"gallery__image\"\r\n            src=\"${preview}\"\r\n            data-source=\"${original}\"\r\n            alt=\"${description}\"\r\n          />\r\n        </a>\r\n      </li>\r\n    `;\r\n  }).join('');\r\n}\r\n\r\n\r\n// 2.Реализация делегирования на галерее ul.js-gallery и получение url большого изображения.\r\nrefs.galleryContainerEl.addEventListener('click', onGalleryContainerClick)\r\n\r\nfunction onGalleryContainerClick(event) {\r\n  const isGalleryImage= event.target.classList.contains('gallery__image')\r\n\r\n  if (!isGalleryImage) {\r\n    return\r\n  }\r\n  event.preventDefault();\r\n\r\n  onOpenModalWindow()\r\n  onSetAttributes(event.target.dataset.source, event.target.alt)\r\n}\r\n\r\n\r\n// 3.Открытие модального окна по клику на элементе галереи.\r\nfunction onOpenModalWindow() {\r\n  refs.lightboxEl.classList.add('is-open')\r\n  window.addEventListener('keydown', onModalWindowKeyDown)\r\n}\r\n\r\n\r\n// 4.Подмена значения атрибута src элемента img.lightbox__image.\r\nfunction onSetAttributes(src, alt) {\r\n  refs.lightboxImageEl.src = src\r\n  refs.lightboxImageEl.alt = alt\r\n}\r\n\r\n\r\n// 5.Закрытие модального окна по клику на кнопку button[data-action=\"close-lightbox\"]\r\n// и 6.Очистка значения атрибута src элемента img.lightbox__image. \r\nrefs.lightboxBtnEl.addEventListener('click', onCloseModalWindow)\r\n\r\nfunction onCloseModalWindow() {\r\n  refs.lightboxEl.classList.remove('is-open')\r\n  onSetAttributes('', '')\r\n  window.removeEventListener('keydown', onModalWindowKeyDown)\r\n}\r\n\r\n// закрытие модального окна при клике в бекдроп\r\nrefs.lightboxOverlayEl.addEventListener('click', onBackdropClick)\r\n\r\nfunction onBackdropClick(event) {\r\n  if (event.currentTarget === event.target) {\r\n    onCloseModalWindow()\r\n  }\r\n}\r\n\r\n// Закрытие модального окна по нажатию клавиши ESC\r\n// и пролистывание изображений галереи в открытом модальном окне клавишами \"влево\" и \"вправо\" \r\nfunction onModalWindowKeyDown(event) {\r\n  let imageIndex = galleryItems.findIndex(\r\n    image => image.original === refs.lightboxImageEl.src,\r\n  );\r\n  \r\n  switch (event.code) {\r\n    case \"Escape\":\r\n      onCloseModalWindow()\r\n      break;\r\n    \r\n    case \"ArrowLeft\":\r\n      // if - если нужно зациклить пролистывание\r\n      if (imageIndex === 0) {\r\n        imageIndex += galleryItems.length;\r\n      }\r\n      imageIndex -= 1;\r\n      break;\r\n    \r\n    case \"ArrowRight\":\r\n      // if- если нужно зациклить пролистывание\r\n      if (imageIndex === galleryItems.length - 1) {\r\n        imageIndex = -1;\r\n      }\r\n      imageIndex += 1;\r\n  }\r\n  refs.lightboxImageEl.src = galleryItems[imageIndex].original;\r\n  refs.lightboxImageEl.alt = galleryItems[imageIndex].description;\r\n}\r\n\r\n\r\n// 7. ленивая загрузка изображений\r\n\r\nif ('loading' in HTMLImageElement.prototype) {\r\n  console.log('Браузер поддерживает lazyload');\r\n  addSrcAttrToLazyImages();\r\n} else {\r\n  console.log('Браузер НЕ поддерживает lazyload');\r\n  addLazySizesScript();\r\n}\r\n\r\nfunction addSrcAttrToLazyImages() {\r\n  const lazyImages = document.querySelectorAll('.gallery__image');\r\n  lazyImages.forEach(image => {\r\n    image.addEventListener('load', { once: true });\r\n    image.setAttribute('loading', 'lazy')\r\n});\r\n}\r\n\r\n\r\nfunction addLazySizesScript() {\r\n  const script = document.createElement('script');\r\n  script.src =\r\n    'https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/lazysizes.min.js';\r\n  script.integrity =\r\n    'sha512-TmDwFLhg3UA4ZG0Eb4MIyT1O1Mb+Oww5kFG0uHqXsdbyZz9DcvYQhKpGgNkamAI6h2lGGZq2X8ftOJvF/XjTUg==';\r\n  script.crossOrigin = 'anonymous';\r\n\r\n  document.body.appendChild(script);\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"fc0c61cd797fb990deea508b84d85855","cacheData":{"env":{}}}
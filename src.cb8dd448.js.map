{"version":3,"sources":["js/refs.js","js/data/gallery-items.js","js/gallery-markup.js","js/set-attributes.js","js/modal-window.js","js/gallery-image.js","js/lazy-loading.js","index.js"],"names":["galleryContainerEl","document","querySelector","lightboxEl","lightboxOverlayEl","lightboxImageEl","lightboxBtnEl","preview","original","description","galleryElementsMarkup","createGalleryElements","galleryItems","items","map","join","onSetAttributes","src","alt","onOpenModalWindow","classList","add","window","addEventListener","onModalWindowKeyDown","onCloseModalWindow","remove","removeEventListener","onBackdropClick","event","currentTarget","target","imageIndex","findIndex","image","refs","code","length","onGalleryContainerClick","contains","preventDefault","dataset","source","addSrcAttrToLazyImages","querySelectorAll","forEach","once","setAttribute","addLazySizesScript","script","createElement","integrity","crossOrigin","body","appendChild","insertAdjacentHTML","HTMLImageElement","prototype","console","log"],"mappings":";AAAe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACbA,mBAAoBC,SAASC,cAAc,eAC3CC,WAAYF,SAASC,cAAc,gBACnCE,kBAAmBH,SAASC,cAAc,sBAC1CG,gBAAiBJ,SAASC,cAAc,oBACxCI,cAAeL,SAASC,cAAc,mCALzB,QAAA,QAAA;;ACCf,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACE,CACEK,QACE,wEACFC,SACE,2EACFC,YAAa,UAEf,CACEF,QACE,uEACFC,SACE,0EACFC,YAAa,eAEf,CACEF,QACE,0EACFC,SACE,6EACFC,YAAa,WAEf,CACEF,QACE,sEACFC,SACE,yEACFC,YAAa,QAEf,CACEF,QACE,0EACFC,SACE,6EACFC,YAAa,WAEf,CACEF,QACE,2EACFC,SACE,8EACFC,YAAa,aAEf,CACEF,QACE,wEACFC,SACE,2EACFC,YAAa,kBAEf,CACEF,QACE,yEACFC,SACE,4EACFC,YAAa,UAEf,CACEF,QACE,yEACFC,SACE,4EACFC,YAAa,gBAEf,CACEF,QACE,6EACFC,SACE,gFACFC,YAAa,eAEf,CACEF,QACE,4EACFC,SACE,+EACFC,YAAa,aAEf,CACEF,QACE,4EACFC,SACE,+EACFC,YAAa,aAEf,CACEF,QACE,wEACFC,SACE,2EACFC,YAAa,UAEf,CACEF,QACE,4EACFC,SACE,+EACFC,YAAa,aAEf,CACEF,QACE,wEACFC,SACE,2EACFC,YAAa,SAEf,CACEF,QACE,sEACFC,SACE,yEACFC,YAAa,QAEf,CACEF,QACE,2EACFC,SACE,8EACFC,YAAa,aAEf,CACEF,QACE,8EACFC,SACE,iFACFC,YAAa,gBAEf,CACEF,QACE,uEACFC,SACE,0EACFC,YAAa,QAEf,CACEF,QACE,yEACFC,SACE,4EACFC,YAAa,UAEf,CACEF,QACE,sEACFC,SACE,yEACFC,YAAa,OAEf,CACEF,QACE,uEACFC,SACE,0EACFC,YAAa,QAEf,CACEF,QACE,4EACFC,SACE,+E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","file":"src.cb8dd448.js","sourceRoot":"..\\src","sourcesContent":["export default {\r\n  galleryContainerEl: document.querySelector('.js-gallery'),\r\n  lightboxEl: document.querySelector('.js-lightbox'),\r\n  lightboxOverlayEl: document.querySelector('.lightbox__overlay'),\r\n  lightboxImageEl: document.querySelector('.lightbox__image'),\r\n  lightboxBtnEl: document.querySelector('[data-action=\"close-lightbox\"]')\r\n}","export default\r\n[\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/06/19/21/24/avenue-815297__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/06/19/21/24/avenue-815297_960_720.jpg',\r\n    description: 'Avenue',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/12/01/20/28/road-1072821__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/12/01/20/28/road-1072821_960_720.jpg',\r\n    description: 'Forest road',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2021/08/13/12/04/seagull-6542951__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2021/08/13/12/04/seagull-6542951_960_720.jpg',\r\n    description: 'Seagull',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/04/23/22/00/tree-736885__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/04/23/22/00/tree-736885_960_720.jpg',\r\n    description: 'Tree',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2017/02/08/17/24/fantasy-2049567__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2017/02/08/17/24/fantasy-2049567_960_720.jpg',\r\n    description: 'Fantasy',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2014/09/14/18/04/dandelion-445228__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2014/09/14/18/04/dandelion-445228_960_720.jpg',\r\n    description: 'Dandelion',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/09/09/16/05/forest-931706__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/09/09/16/05/forest-931706_960_720.jpg',\r\n    description: 'Morning forest',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/05/05/02/37/sunset-1373171__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/05/05/02/37/sunset-1373171_960_720.jpg',\r\n    description: 'Sunset',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/12/01/20/28/forest-1072828__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/12/01/20/28/forest-1072828_960_720.jpg',\r\n    description: 'Foggy forest',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/05/22/22/21/rathaussteg-779998__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/05/22/22/21/rathaussteg-779998_960_720.jpg',\r\n    description: 'Rathaussteg',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2017/05/21/08/17/goldcoast-2330710__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2017/05/21/08/17/goldcoast-2330710_960_720.jpg',\r\n    description: 'Goldcoast',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/04/18/17/43/monastery-3331085__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/04/18/17/43/monastery-3331085_960_720.jpg',\r\n    description: 'Monastery',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2013/07/25/13/01/stones-167089__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2013/07/25/13/01/stones-167089_960_720.jpg',\r\n    description: 'Stones',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2017/12/15/13/51/polynesia-3021072__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2017/12/15/13/51/polynesia-3021072_960_720.jpg',\r\n    description: 'Polynesia',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/10/22/17/10/bread-1761197__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/10/22/17/10/bread-1761197_960_720.jpg',\r\n    description: 'Bread',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2014/06/11/17/00/food-366875__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2014/06/11/17/00/food-366875_960_720.jpg',\r\n    description: 'Food',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/08/18/22/01/lavenders-894919__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/08/18/22/01/lavenders-894919_960_720.jpg',\r\n    description: 'Lavenders',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2014/01/22/19/44/flower-field-250016__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2014/01/22/19/44/flower-field-250016_960_720.jpg',\r\n    description: 'Flower field',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2021/08/26/20/53/bird-6577119__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2021/08/26/20/53/bird-6577119_960_720.jpg',\r\n    description: 'Bird',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2021/08/27/10/27/desert-6578359__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2021/08/27/10/27/desert-6578359_960_720.jpg',\r\n    description: 'Desert',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2020/12/22/16/30/art-5852645__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2020/12/22/16/30/art-5852645_960_720.jpg',\r\n    description: 'Art',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2020/07/19/09/57/hill-5419527__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2020/07/19/09/57/hill-5419527_960_720.jpg',\r\n    description: 'Hill',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2021/08/05/07/55/daffodils-6523446__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2021/08/05/07/55/daffodils-6523446_960_720.jpg',\r\n    description: 'Daffodils',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/04/10/17/03/pots-716579__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/04/10/17/03/pots-716579_960_720.jpg',\r\n    description: 'Pots',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/04/20/13/38/furniture-731449__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/04/20/13/38/furniture-731449_960_720.jpg',\r\n    description: 'Furniture-',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2021/08/21/11/29/kingfisher-6562537__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2021/08/21/11/29/kingfisher-6562537_960_720.jpg',\r\n    description: 'Kingfisher',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2021/07/13/09/37/dogs-6463032__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2021/07/13/09/37/dogs-6463032_960_720.jpg',\r\n    description: 'Dogs',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];","import galleryItems from './data/gallery-items.js';\r\nexport const galleryElementsMarkup = createGalleryElements(galleryItems)\r\n\r\n// 1. Создание и рендер разметки по массиву данных galleryItems из app.js и предоставленному шаблону.\r\n// refs.galleryContainerEl.insertAdjacentHTML('beforeend', galleryElementsMarkup)\r\nfunction createGalleryElements(items){\r\n  return items.map(({ preview, original, description }) => {\r\n    return `\r\n      <li class=\"gallery__item\">\r\n        <a\r\n          class=\"gallery__link\"\r\n          href=\"${original}\"\r\n        >\r\n          <img\r\n            class=\"gallery__image\"\r\n            src=\"${preview}\"\r\n            data-source=\"${original}\"\r\n            alt=\"${description}\"\r\n          />\r\n        </a>\r\n      </li>\r\n    `;\r\n  }).join('');\r\n}\r\n","import refs from './refs.js'\r\n\r\n// 4.Подмена значения атрибута src элемента img.lightbox__image.\r\nexport const onSetAttributes = (src, alt) => {\r\n  refs.lightboxImageEl.src = src\r\n  refs.lightboxImageEl.alt = alt\r\n}","import galleryItems from './data/gallery-items.js';\r\nimport refs from './refs.js'\r\nimport {onSetAttributes} from './set-attributes.js'\r\n\r\n// Открытие модального окна по клику на элементе галереи.\r\nexport const onOpenModalWindow = () => {\r\n  refs.lightboxEl.classList.add('is-open')\r\n  window.addEventListener('keydown', onModalWindowKeyDown)\r\n}\r\n\r\n// Закрытие модального окна по клику на кнопку button[data-action=\"close-lightbox\"]\r\n// Очистка значения атрибута src элемента img.lightbox__image. \r\nexport const onCloseModalWindow = () => {\r\n  refs.lightboxEl.classList.remove('is-open')\r\n  onSetAttributes('', '')\r\n  window.removeEventListener('keydown', onModalWindowKeyDown)\r\n}\r\n\r\n// закрытие модального окна при клике в бекдроп\r\nexport const onBackdropClick = (event) => {\r\n  if (event.currentTarget === event.target) {\r\n    onCloseModalWindow()\r\n  }\r\n}\r\n\r\n// Закрытие модального окна по нажатию клавиши ESC\r\n// и пролистывание изображений галереи в открытом модальном окне клавишами \"влево\" и \"вправо\" \r\nexport const onModalWindowKeyDown = (event) => {\r\n  let imageIndex = galleryItems.findIndex(\r\n    image => image.original === refs.lightboxImageEl.src,\r\n  );\r\n  \r\n  switch (event.code) {\r\n    case \"Escape\":\r\n      onCloseModalWindow()\r\n      break;\r\n    \r\n    case \"ArrowLeft\":\r\n      // if - если нужно зациклить пролистывание\r\n      if (imageIndex === 0) {\r\n        imageIndex += galleryItems.length;\r\n      }\r\n      imageIndex -= 1;\r\n      break;\r\n    \r\n    case \"ArrowRight\":\r\n      // if- если нужно зациклить пролистывание\r\n      if (imageIndex === galleryItems.length - 1) {\r\n        imageIndex = -1;\r\n      }\r\n      imageIndex += 1;\r\n  }\r\n  refs.lightboxImageEl.src = galleryItems[imageIndex].original;\r\n  refs.lightboxImageEl.alt = galleryItems[imageIndex].description;\r\n}","import { onOpenModalWindow } from './modal-window'\r\n// Подмена значения атрибута src элемента img.lightbox__image.\r\nimport { onSetAttributes } from './set-attributes'\r\n\r\n\r\nexport const onGalleryContainerClick = (event) => {\r\n  const isGalleryImage= event.target.classList.contains('gallery__image')\r\n\r\n  if (!isGalleryImage) {\r\n    return\r\n  }\r\n  event.preventDefault();\r\n\r\n  onOpenModalWindow()\r\n  onSetAttributes(event.target.dataset.source, event.target.alt)\r\n}\r\n","// 7. Ленивая загрузка изображений\r\n\r\n\r\nexport const addSrcAttrToLazyImages = () => {\r\n  const lazyImages = document.querySelectorAll('.gallery__image');\r\n  lazyImages.forEach(image => {\r\n    image.addEventListener('load', { once: true });\r\n    image.setAttribute('loading', 'lazy')\r\n});\r\n}\r\n\r\nexport const addLazySizesScript = () => {\r\n  const script = document.createElement('script');\r\n  script.src =\r\n    'https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/lazysizes.min.js';\r\n  script.integrity =\r\n    'sha512-TmDwFLhg3UA4ZG0Eb4MIyT1O1Mb+Oww5kFG0uHqXsdbyZz9DcvYQhKpGgNkamAI6h2lGGZq2X8ftOJvF/XjTUg==';\r\n  script.crossOrigin = 'anonymous';\r\n\r\n  document.body.appendChild(script);\r\n}","import refs from './js/refs'\r\n\r\nimport { galleryElementsMarkup } from './js/gallery-markup'\r\nimport { onGalleryContainerClick } from './js/gallery-image'\r\nimport { onCloseModalWindow, onBackdropClick } from './js/modal-window'\r\nimport { addSrcAttrToLazyImages, addLazySizesScript } from './js/lazy-loading'\r\n\r\n// import './css/styles.css';\r\n\r\n// Создание и рендер разметки по массиву данных galleryItems из app.js и предоставленному шаблону.\r\nrefs.galleryContainerEl.insertAdjacentHTML('beforeend', galleryElementsMarkup)\r\n\r\n// Реализация делегирования на галерее ul.js-gallery и получение url большого изображения.\r\nrefs.galleryContainerEl.addEventListener('click', onGalleryContainerClick)\r\n\r\n// Открытие модального окна по клику на элементе галереи.\r\n// Закрытие модального окна по клику на кнопку, кнопку \"ESC\" и клику в бекдороп. Пролистывание изображений\r\n// Очистка значения атрибута src элемента img.lightbox__image. \r\nrefs.lightboxBtnEl.addEventListener('click', onCloseModalWindow)\r\nrefs.lightboxOverlayEl.addEventListener('click', onBackdropClick)\r\n\r\n// Ленивая загрузка изображений\r\nif ('loading' in HTMLImageElement.prototype) {\r\n  console.log('Браузер поддерживает lazyload');\r\n  addSrcAttrToLazyImages();\r\n} else {\r\n  console.log('Браузер НЕ поддерживает lazyload');\r\n  addLazySizesScript();\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}
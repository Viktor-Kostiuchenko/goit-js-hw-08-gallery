{"version":3,"sources":["src/js/data/gallery-images.js","src/js/index.js"],"names":["preview","original","description","refs","galleryContainerEl","document","querySelector","lightboxEl","lightboxOverlayEl","lightboxImageEl","lightboxBtnEl","galleryElementsMarkup","createGalleryElements","galleryItems","items","map","join","onGalleryContainerClick","event","target","classList","contains","preventDefault","onOpenModalWindow","onSetAttributes","dataset","source","alt","add","window","addEventListener","onModalWindowKeyDown","src","onCloseModalWindow","remove","removeEventListener","onBackdropClick","currentTarget","imageIndex","findIndex","image","code","length","addSrcAttrToLazyImages","querySelectorAll","forEach","once","setAttribute","addLazySizesScript","script","createElement","integrity","crossOrigin","body","appendChild","insertAdjacentHTML","HTMLImageElement","prototype","console","log"],"mappings":";AACA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACE,CACEA,QACE,wEACFC,SACE,2EACFC,YAAa,UAEf,CACEF,QACE,uEACFC,SACE,0EACFC,YAAa,eAEf,CACEF,QACE,0EACFC,SACE,6EACFC,YAAa,WAEf,CACEF,QACE,sEACFC,SACE,yEACFC,YAAa,QAEf,CACEF,QACE,0EACFC,SACE,6EACFC,YAAa,WAEf,CACEF,QACE,2EACFC,SACE,8EACFC,YAAa,aAEf,CACEF,QACE,wEACFC,SACE,2EACFC,YAAa,kBAEf,CACEF,QACE,yEACFC,SACE,4EACFC,YAAa,UAEf,CACEF,QACE,yEACFC,SACE,4EACFC,YAAa,gBAEf,CACEF,QACE,6EACFC,SACE,gFACFC,YAAa,eAEf,CACEF,QACE,4EACFC,SACE,+EACFC,YAAa,aAEf,CACEF,QACE,4EACFC,SACE,+EACFC,YAAa,aAEf,CACEF,QACE,wEACFC,SACE,2EACFC,YAAa,UAEf,CACEF,QACE,4EACFC,SACE,+EACFC,YAAa,aAEf,CACEF,QACE,wEACFC,SACE,2EACFC,YAAa,SAEf,CACEF,QACE,sEACFC,SACE,yEACFC,YAAa,QAEf,CACEF,QACE,2EACFC,SACE,8EACFC,YAAa,aAEf,CACEF,QACE,8EACFC,SACE,iFACFC,YAAa,gBAEf,CACEF,QACE,uEACFC,SACE,0EACFC,YAAa,QAEf,CACEF,QACE,yEACFC,SACE,4EACFC,YAAa,UAEf,CACEF,QACE,sEACFC,SACE,yEACFC,YAAa,OAEf,CACEF,QACE,uEACFC,SACE,0EACFC,YAAa,QAEf,CACEF,QACE,4EACFC,SACE,+EACFC,YAAa,aAEf,CACEF,QACE,sEACFC,SACE,yEACFC,YAAa,QAEf,CACEF,QACE,2EACFC,SACE,8EACFC,YAAa,cAEf,CACEF,QACE,6EACFC,SACE,gFACFC,YAAa,cAEf,CACEF,QACE,uEACFC,SACE,0EACFC,YAAa,QAEf,CACEF,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,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","file":"js.1454272e.js","sourceRoot":"..","sourcesContent":["export default\r\n[\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/06/19/21/24/avenue-815297__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/06/19/21/24/avenue-815297_960_720.jpg',\r\n    description: 'Avenue',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/12/01/20/28/road-1072821__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/12/01/20/28/road-1072821_960_720.jpg',\r\n    description: 'Forest road',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2021/08/13/12/04/seagull-6542951__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2021/08/13/12/04/seagull-6542951_960_720.jpg',\r\n    description: 'Seagull',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/04/23/22/00/tree-736885__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/04/23/22/00/tree-736885_960_720.jpg',\r\n    description: 'Tree',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2017/02/08/17/24/fantasy-2049567__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2017/02/08/17/24/fantasy-2049567_960_720.jpg',\r\n    description: 'Fantasy',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2014/09/14/18/04/dandelion-445228__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2014/09/14/18/04/dandelion-445228_960_720.jpg',\r\n    description: 'Dandelion',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/09/09/16/05/forest-931706__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/09/09/16/05/forest-931706_960_720.jpg',\r\n    description: 'Morning forest',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/05/05/02/37/sunset-1373171__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/05/05/02/37/sunset-1373171_960_720.jpg',\r\n    description: 'Sunset',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/12/01/20/28/forest-1072828__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/12/01/20/28/forest-1072828_960_720.jpg',\r\n    description: 'Foggy forest',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/05/22/22/21/rathaussteg-779998__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/05/22/22/21/rathaussteg-779998_960_720.jpg',\r\n    description: 'Rathaussteg',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2017/05/21/08/17/goldcoast-2330710__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2017/05/21/08/17/goldcoast-2330710_960_720.jpg',\r\n    description: 'Goldcoast',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/04/18/17/43/monastery-3331085__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/04/18/17/43/monastery-3331085_960_720.jpg',\r\n    description: 'Monastery',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2013/07/25/13/01/stones-167089__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2013/07/25/13/01/stones-167089_960_720.jpg',\r\n    description: 'Stones',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2017/12/15/13/51/polynesia-3021072__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2017/12/15/13/51/polynesia-3021072_960_720.jpg',\r\n    description: 'Polynesia',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/10/22/17/10/bread-1761197__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/10/22/17/10/bread-1761197_960_720.jpg',\r\n    description: 'Bread',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2014/06/11/17/00/food-366875__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2014/06/11/17/00/food-366875_960_720.jpg',\r\n    description: 'Food',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/08/18/22/01/lavenders-894919__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/08/18/22/01/lavenders-894919_960_720.jpg',\r\n    description: 'Lavenders',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2014/01/22/19/44/flower-field-250016__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2014/01/22/19/44/flower-field-250016_960_720.jpg',\r\n    description: 'Flower field',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2021/08/26/20/53/bird-6577119__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2021/08/26/20/53/bird-6577119_960_720.jpg',\r\n    description: 'Bird',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2021/08/27/10/27/desert-6578359__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2021/08/27/10/27/desert-6578359_960_720.jpg',\r\n    description: 'Desert',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2020/12/22/16/30/art-5852645__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2020/12/22/16/30/art-5852645_960_720.jpg',\r\n    description: 'Art',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2020/07/19/09/57/hill-5419527__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2020/07/19/09/57/hill-5419527_960_720.jpg',\r\n    description: 'Hill',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2021/08/05/07/55/daffodils-6523446__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2021/08/05/07/55/daffodils-6523446_960_720.jpg',\r\n    description: 'Daffodils',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/04/10/17/03/pots-716579__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/04/10/17/03/pots-716579_960_720.jpg',\r\n    description: 'Pots',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/04/20/13/38/furniture-731449__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/04/20/13/38/furniture-731449_960_720.jpg',\r\n    description: 'Furniture-',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2021/08/21/11/29/kingfisher-6562537__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2021/08/21/11/29/kingfisher-6562537_960_720.jpg',\r\n    description: 'Kingfisher',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2021/07/13/09/37/dogs-6463032__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2021/07/13/09/37/dogs-6463032_960_720.jpg',\r\n    description: 'Dogs',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];","import galleryItems from './data/gallery-images.js';\r\n\r\nconst refs = {\r\n  galleryContainerEl: document.querySelector('.js-gallery'),\r\n  lightboxEl: document.querySelector('.js-lightbox'),\r\n  lightboxOverlayEl: document.querySelector('.lightbox__overlay'),\r\n  lightboxImageEl: document.querySelector('.lightbox__image'),\r\n  lightboxBtnEl: document.querySelector('[data-action=\"close-lightbox\"]')\r\n}\r\n\r\n\r\n// 1. Создание и рендер разметки по массиву данных galleryItems из app.js и предоставленному шаблону.\r\nconst galleryElementsMarkup = createGalleryElements(galleryItems);\r\n\r\nrefs.galleryContainerEl.insertAdjacentHTML('beforeend', galleryElementsMarkup)\r\n\r\nfunction createGalleryElements(items) {\r\n  return items.map(({ preview, original, description }) => {\r\n    return `\r\n      <li class=\"gallery__item\">\r\n        <a\r\n          class=\"gallery__link\"\r\n          href=\"${original}\"\r\n        >\r\n          <img\r\n            class=\"gallery__image\"\r\n            src=\"${preview}\"\r\n            data-source=\"${original}\"\r\n            alt=\"${description}\"\r\n          />\r\n        </a>\r\n      </li>\r\n    `;\r\n  }).join('');\r\n}\r\n\r\n\r\n// 2.Реализация делегирования на галерее ul.js-gallery и получение url большого изображения.\r\nrefs.galleryContainerEl.addEventListener('click', onGalleryContainerClick)\r\n\r\nfunction onGalleryContainerClick(event) {\r\n  const isGalleryImage= event.target.classList.contains('gallery__image')\r\n\r\n  if (!isGalleryImage) {\r\n    return\r\n  }\r\n  event.preventDefault();\r\n\r\n  onOpenModalWindow()\r\n  onSetAttributes(event.target.dataset.source, event.target.alt)\r\n}\r\n\r\n\r\n// 3.Открытие модального окна по клику на элементе галереи.\r\nfunction onOpenModalWindow() {\r\n  refs.lightboxEl.classList.add('is-open')\r\n  window.addEventListener('keydown', onModalWindowKeyDown)\r\n}\r\n\r\n\r\n// 4.Подмена значения атрибута src элемента img.lightbox__image.\r\nfunction onSetAttributes(src, alt) {\r\n  refs.lightboxImageEl.src = src\r\n  refs.lightboxImageEl.alt = alt\r\n}\r\n\r\n\r\n// 5.Закрытие модального окна по клику на кнопку button[data-action=\"close-lightbox\"]\r\n// и 6.Очистка значения атрибута src элемента img.lightbox__image. \r\nrefs.lightboxBtnEl.addEventListener('click', onCloseModalWindow)\r\n\r\nfunction onCloseModalWindow() {\r\n  refs.lightboxEl.classList.remove('is-open')\r\n  onSetAttributes('', '')\r\n  window.removeEventListener('keydown', onModalWindowKeyDown)\r\n}\r\n\r\n// закрытие модального окна при клике в бекдроп\r\nrefs.lightboxOverlayEl.addEventListener('click', onBackdropClick)\r\n\r\nfunction onBackdropClick(event) {\r\n  if (event.currentTarget === event.target) {\r\n    onCloseModalWindow()\r\n  }\r\n}\r\n\r\n// Закрытие модального окна по нажатию клавиши ESC\r\n// и пролистывание изображений галереи в открытом модальном окне клавишами \"влево\" и \"вправо\" \r\nfunction onModalWindowKeyDown(event) {\r\n  let imageIndex = galleryItems.findIndex(\r\n    image => image.original === refs.lightboxImageEl.src,\r\n  );\r\n  \r\n  switch (event.code) {\r\n    case \"Escape\":\r\n      onCloseModalWindow()\r\n      break;\r\n    \r\n    case \"ArrowLeft\":\r\n      // if - если нужно зациклить пролистывание\r\n      if (imageIndex === 0) {\r\n        imageIndex += galleryItems.length;\r\n      }\r\n      imageIndex -= 1;\r\n      break;\r\n    \r\n    case \"ArrowRight\":\r\n      // if- если нужно зациклить пролистывание\r\n      if (imageIndex === galleryItems.length - 1) {\r\n        imageIndex = -1;\r\n      }\r\n      imageIndex += 1;\r\n  }\r\n  refs.lightboxImageEl.src = galleryItems[imageIndex].original;\r\n  refs.lightboxImageEl.alt = galleryItems[imageIndex].description;\r\n}\r\n\r\n\r\n// 7. ленивая загрузка изображений\r\n\r\nif ('loading' in HTMLImageElement.prototype) {\r\n  console.log('Браузер поддерживает lazyload');\r\n  addSrcAttrToLazyImages();\r\n} else {\r\n  console.log('Браузер НЕ поддерживает lazyload');\r\n  addLazySizesScript();\r\n}\r\n\r\nfunction addSrcAttrToLazyImages() {\r\n  const lazyImages = document.querySelectorAll('.gallery__image');\r\n  lazyImages.forEach(image => {\r\n    image.addEventListener('load', { once: true });\r\n    image.setAttribute('loading', 'lazy')\r\n});\r\n}\r\n\r\n\r\nfunction addLazySizesScript() {\r\n  const script = document.createElement('script');\r\n  script.src =\r\n    'https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/lazysizes.min.js';\r\n  script.integrity =\r\n    'sha512-TmDwFLhg3UA4ZG0Eb4MIyT1O1Mb+Oww5kFG0uHqXsdbyZz9DcvYQhKpGgNkamAI6h2lGGZq2X8ftOJvF/XjTUg==';\r\n  script.crossOrigin = 'anonymous';\r\n\r\n  document.body.appendChild(script);\r\n}\r\n"]}